#!/usr/bin/make -f

# Habilita verbose para ver los comandos que modifican archivos en el sistema de compilaci√≥n
export DH_VERBOSE = 1

# Configura QMake
override_dh_auto_configure:
	qmake PREFIX=/usr

# Compila el proyecto
override_dh_auto_build:
	dh_auto_build -- qmake && make

# Instala el ejecutable y los archivos necesarios
override_dh_auto_install:
	# Instalamos el binario en /usr/bin
	install -d $(DESTDIR)/usr/bin
	install -m 755 build/src/vnote $(DESTDIR)/usr/bin/vnote

	# Copiamos los archivos necesarios a /usr/share/vnote/
	install -d $(DESTDIR)/usr/share/vnote
	cp -r pics $(DESTDIR)/usr/share/vnote/
	cp -r package $(DESTDIR)/usr/share/vnote/

%:
	dh $@ 
